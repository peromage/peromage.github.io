<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Software on undefined behavior</title><link>https://peromage.github.io/categories/software/</link><description>Recent content in Software on undefined behavior</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Fri, 18 Apr 2025 03:22:35 +0000</lastBuildDate><atom:link href="https://peromage.github.io/categories/software/index.xml" rel="self" type="application/rss+xml"/><item><title>ANSI Escape Code Collection</title><link>https://peromage.github.io/p/ansi-escape-code-collection/</link><pubDate>Sun, 27 Aug 2023 18:11:00 +0000</pubDate><guid>https://peromage.github.io/p/ansi-escape-code-collection/</guid><description>&lt;p>The information in this collection is from Internet, which is collected for my personal convenience.&lt;/p>
&lt;h2 id="csi-sequences">CSI sequences&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Code&lt;/th>
 &lt;th>Name&lt;/th>
 &lt;th>Effect&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>CSI n A&lt;/td>
 &lt;td>CUU – Cursor Up&lt;/td>
 &lt;td>Moves the cursor n (default 1) cells in the given direction. If the cursor is already at the edge of the screen, this has no effect.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n B&lt;/td>
 &lt;td>CUD – Cursor Down&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n C&lt;/td>
 &lt;td>CUF – Cursor Forward&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n D&lt;/td>
 &lt;td>CUB – Cursor Back&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n E&lt;/td>
 &lt;td>CNL – Cursor Next Line&lt;/td>
 &lt;td>Moves cursor to beginning of the line n (default 1) lines down. (not ANSI.SYS)&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n F&lt;/td>
 &lt;td>CPL – Cursor Previous Line&lt;/td>
 &lt;td>Moves cursor to beginning of the line n (default 1) lines up. (not ANSI.SYS)&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n G&lt;/td>
 &lt;td>CHA – Cursor Horizontal Absolute&lt;/td>
 &lt;td>Moves the cursor to column n (default 1). (not ANSI.SYS)&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n ; m H&lt;/td>
 &lt;td>CUP – Cursor Position&lt;/td>
 &lt;td>Moves the cursor to row n, column m. The values are 1-based, and default to 1 (top left corner) if omitted. A sequence such as CSI ;5H is a synonym for CSI 1;5H as well as CSI 17;H is the same as CSI 17H and CSI 17;1H&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n J&lt;/td>
 &lt;td>ED – Erase in Display&lt;/td>
 &lt;td>Clears part of the screen. If n is 0 (or missing), clear from cursor to end of screen. If n is 1, clear from cursor to beginning of the screen. If n is 2, clear entire screen (and moves cursor to upper left on DOS ANSI.SYS). If n is 3, clear entire screen and delete all lines saved in the scrollback buffer (this feature was added for xterm and is supported by other terminal applications).&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n K&lt;/td>
 &lt;td>EL – Erase in Line&lt;/td>
 &lt;td>Erases part of the line. If n is 0 (or missing), clear from cursor to the end of the line. If n is 1, clear from cursor to beginning of the line. If n is 2, clear entire line. Cursor position does not change.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n S&lt;/td>
 &lt;td>SU – Scroll Up&lt;/td>
 &lt;td>Scroll whole page up by n (default 1) lines. New lines are added at the bottom. (not ANSI.SYS)&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n T&lt;/td>
 &lt;td>SD – Scroll Down&lt;/td>
 &lt;td>Scroll whole page down by n (default 1) lines. New lines are added at the top. (not ANSI.SYS)&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n ; m f&lt;/td>
 &lt;td>HVP – Horizontal Vertical Position&lt;/td>
 &lt;td>Same as CUP&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI n m&lt;/td>
 &lt;td>SGR – Select Graphic Rendition&lt;/td>
 &lt;td>Sets the appearance of the following characters, see SGR parameters below.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI 5i&lt;/td>
 &lt;td>AUX Port On&lt;/td>
 &lt;td>Enable aux serial port usually for local serial printer&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI 4i&lt;/td>
 &lt;td>AUX Port Off&lt;/td>
 &lt;td>Disable aux serial port usually for local serial printer&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI 6n&lt;/td>
 &lt;td>DSR – Device Status Report&lt;/td>
 &lt;td>Reports the cursor position (CPR) to the application as (as though typed at the keyboard) ESC[n;mR, where n is the row and m is the column.)&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI s&lt;/td>
 &lt;td>SCP – Save Cursor Position&lt;/td>
 &lt;td>Saves the cursor position/state.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI u&lt;/td>
 &lt;td>RCP – Restore Cursor Position&lt;/td>
 &lt;td>Restores the cursor position/state.&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="some-popular-private-sequences">Some popular private sequences&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Code&lt;/th>
 &lt;th>Effect&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>CSI ? 25 h&lt;/td>
 &lt;td>DECTCEM Shows the cursor, from the VT320.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI ? 25 l&lt;/td>
 &lt;td>DECTCEM Hides the cursor.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI ? 1049 h&lt;/td>
 &lt;td>Enable alternative screen buffer&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI ? 1049 l&lt;/td>
 &lt;td>Disable alternative screen buffer&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI ? 2004 h&lt;/td>
 &lt;td>Turn on bracketed paste mode. Text pasted into the terminal will be surrounded by ESC [200~ and ESC [201~, and characters in it should not be treated as commands (for example in Vim).[20] From Unix terminal emulators.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>CSI ? 2004 l&lt;/td>
 &lt;td>Turn off bracketed paste mode.&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="sgr-parameters">SGR parameters&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Code&lt;/th>
 &lt;th>Effect&lt;/th>
 &lt;th>Note&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>0&lt;/td>
 &lt;td>Reset / Normal&lt;/td>
 &lt;td>all attributes off&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>1&lt;/td>
 &lt;td>Bold or increased intensity&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>2&lt;/td>
 &lt;td>Faint (decreased intensity)&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>3&lt;/td>
 &lt;td>Italic&lt;/td>
 &lt;td>Not widely supported. Sometimes treated as inverse.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>4&lt;/td>
 &lt;td>Underline&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>5&lt;/td>
 &lt;td>Slow Blink&lt;/td>
 &lt;td>less than 150 per minute&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>6&lt;/td>
 &lt;td>Rapid Blink&lt;/td>
 &lt;td>MS-DOS ANSI.SYS; 150+ per minute; not widely supported&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>7&lt;/td>
 &lt;td>reverse video&lt;/td>
 &lt;td>swap foreground and background colors&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>8&lt;/td>
 &lt;td>Conceal&lt;/td>
 &lt;td>Not widely supported.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>9&lt;/td>
 &lt;td>Crossed-out&lt;/td>
 &lt;td>Characters legible, but marked for deletion.&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>10&lt;/td>
 &lt;td>Primary(default) font&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>11–19&lt;/td>
 &lt;td>Alternative font&lt;/td>
 &lt;td>Select alternative font {\displaystyle n-10} {\displaystyle n-10}&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>20&lt;/td>
 &lt;td>Fraktur&lt;/td>
 &lt;td>Rarely supported&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>21&lt;/td>
 &lt;td>Doubly underline or Bold off&lt;/td>
 &lt;td>Double-underline per ECMA-48.[22] See discussion&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>22&lt;/td>
 &lt;td>Normal color or intensity&lt;/td>
 &lt;td>Neither bold nor faint&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>23&lt;/td>
 &lt;td>Not italic, not Fraktur&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>24&lt;/td>
 &lt;td>Underline off&lt;/td>
 &lt;td>Not singly or doubly underlined&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>25&lt;/td>
 &lt;td>Blink off&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>27&lt;/td>
 &lt;td>Inverse off&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>28&lt;/td>
 &lt;td>Reveal&lt;/td>
 &lt;td>conceal off&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>29&lt;/td>
 &lt;td>Not crossed out&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>30–37&lt;/td>
 &lt;td>Set foreground color&lt;/td>
 &lt;td>See color table below&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>38&lt;/td>
 &lt;td>Set foreground color&lt;/td>
 &lt;td>Next arguments are 5;n or 2;r;g;b, see below&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>39&lt;/td>
 &lt;td>Default foreground color&lt;/td>
 &lt;td>implementation defined (according to standard)&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>40–47&lt;/td>
 &lt;td>Set background color&lt;/td>
 &lt;td>See color table below&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>48&lt;/td>
 &lt;td>Set background color&lt;/td>
 &lt;td>Next arguments are 5;n or 2;r;g;b, see below&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>49&lt;/td>
 &lt;td>Default background color&lt;/td>
 &lt;td>implementation defined (according to standard)&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>51&lt;/td>
 &lt;td>Framed&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>52&lt;/td>
 &lt;td>Encircled&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>53&lt;/td>
 &lt;td>Overlined&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>54&lt;/td>
 &lt;td>Not framed or encircled&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>55&lt;/td>
 &lt;td>Not overlined&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>60&lt;/td>
 &lt;td>ideogram underline or right side line&lt;/td>
 &lt;td>Rarely supported&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>61&lt;/td>
 &lt;td>ideogram double underline or double line on the right side&lt;/td>
 &lt;td>Rarely supported&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>62&lt;/td>
 &lt;td>ideogram overline or left side line&lt;/td>
 &lt;td>Rarely supported&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>63&lt;/td>
 &lt;td>ideogram double overline or double line on the left side&lt;/td>
 &lt;td>Rarely supported&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>64&lt;/td>
 &lt;td>ideogram stress marking&lt;/td>
 &lt;td>Rarely supported&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>65&lt;/td>
 &lt;td>ideogram attributes off&lt;/td>
 &lt;td>reset the effects of all of 60–64&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>90–97&lt;/td>
 &lt;td>Set bright foreground color&lt;/td>
 &lt;td>aixterm (not in standard)&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>100–107&lt;/td>
 &lt;td>Set bright background color&lt;/td>
 &lt;td>aixterm (not in standard)&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="color-code">Color code&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Color&lt;/th>
 &lt;th>Foreground&lt;/th>
 &lt;th>Background&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>Black&lt;/td>
 &lt;td>\u001b[30m&lt;/td>
 &lt;td>\u001b[40m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Red&lt;/td>
 &lt;td>\u001b[31m&lt;/td>
 &lt;td>\u001b[41m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Green&lt;/td>
 &lt;td>\u001b[32m&lt;/td>
 &lt;td>\u001b[42m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Yellow&lt;/td>
 &lt;td>\u001b[33m&lt;/td>
 &lt;td>\u001b[43m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Blue&lt;/td>
 &lt;td>\u001b[34m&lt;/td>
 &lt;td>\u001b[44m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Magenta&lt;/td>
 &lt;td>\u001b[35m&lt;/td>
 &lt;td>\u001b[45m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Cyan&lt;/td>
 &lt;td>\u001b[36m&lt;/td>
 &lt;td>\u001b[46m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>White&lt;/td>
 &lt;td>\u001b[37m&lt;/td>
 &lt;td>\u001b[47m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Bright Black&lt;/td>
 &lt;td>\u001b[30;1m&lt;/td>
 &lt;td>\u001b[40;1m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Bright Red&lt;/td>
 &lt;td>\u001b[31;1m&lt;/td>
 &lt;td>\u001b[41;1m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Bright Green&lt;/td>
 &lt;td>\u001b[32;1m&lt;/td>
 &lt;td>\u001b[42;1m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Bright Yellow&lt;/td>
 &lt;td>\u001b[33;1m&lt;/td>
 &lt;td>\u001b[43;1m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Bright Blue&lt;/td>
 &lt;td>\u001b[34;1m&lt;/td>
 &lt;td>\u001b[44;1m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Bright Magenta&lt;/td>
 &lt;td>\u001b[35;1m&lt;/td>
 &lt;td>\u001b[45;1m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Bright Cyan&lt;/td>
 &lt;td>\u001b[36;1m&lt;/td>
 &lt;td>\u001b[46;1m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Bright White&lt;/td>
 &lt;td>\u001b[37;1m&lt;/td>
 &lt;td>\u001b[47;1m&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Reset&lt;/td>
 &lt;td>\u001b[0m&lt;/td>
 &lt;td>\u001b[0m&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table></description></item><item><title>Windows Rescure Quick Reference</title><link>https://peromage.github.io/p/windows-rescure-quick-reference/</link><pubDate>Wed, 19 Oct 2022 00:01:00 +0000</pubDate><guid>https://peromage.github.io/p/windows-rescure-quick-reference/</guid><description>&lt;p>Though I&amp;rsquo;ve written posts about &lt;a href="https://peromage.github.io/p/dual-booting-windows-vhd-and-native-linux-on-a-bios-gpt-pc/">dual-booting Windows and Linux&lt;/a> and &lt;a href="https://peromage.github.io/p/minimalists-multi-boot-usb-drive/">multi-booting a USB drive&lt;/a>, I have to go back and dig useful information out each time when I forget something.&lt;/p>
&lt;p>After breaking my dual-boot setup once again (forgot to backup boot partition), I decided to create this post for a quick reference.&lt;/p>
&lt;p>This reference assumes system is boot from UEFI and Windows is installed on a dedicated partition.&lt;/p>
&lt;h2 id="setup-a-usb-with-system-images">Setup A USB With System Images&lt;/h2>
&lt;p>Forget the previous multi-boot USB post. Use &lt;a href="https://www.ventoy.net/en/index.html">Ventory&lt;/a> and it just works great.&lt;/p></description></item><item><title>Fix Metadata in Google Photo Takeout</title><link>https://peromage.github.io/p/fix-metadata-in-google-photo-takeout/</link><pubDate>Sun, 13 Mar 2022 00:12:00 +0000</pubDate><guid>https://peromage.github.io/p/fix-metadata-in-google-photo-takeout/</guid><description>&lt;p>Google Photo sucks.&lt;/p>
&lt;h2 id="troubles">Troubles&lt;/h2>
&lt;p>When exporting photos from Google Photo, a bunch of JSON files come with your photos. Those JSON files contain metadata which is supposed to be stored with your photo files. If you simple import those photo files into another photo manager you will most likely not get a chronological view. Obviously, Google does on purpose so that you will not leave it easily.
However, there is a workaround that is able to merge those metadata into your photos.&lt;/p></description></item></channel></rss>