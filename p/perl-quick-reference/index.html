<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Perl Quick Reference &#183; </title><meta name=description content="Interesting content."><meta name=keywords content="Interesting keywords."><link rel=stylesheet href=https://peromage.github.io/css/skeria.css><link rel=stylesheet href=https://peromage.github.io/css/font.awesome.6.1.2.all.min.css></head><body><div class=topbar><div class=topbar-sticky><a href=https://peromage.github.io/ style=text-decoration:none><h1>undefined behavior</h1></a><span class=lead>tb;dr - too boring; don&rsquo;t read</span>
<span class=topbar-nav><p><span class=topbar-nav-item><a href=https://peromage.github.io/>Recent</a>
</span><span class=topbar-nav-item><a href=https://peromage.github.io/posts>All Posts</a>
</span><span class=topbar-nav-item><a href=https://peromage.github.io/categories>Categories</a>
</span><span class=topbar-nav-item><a href=https://peromage.github.io/tags>Tags</a>
</span><span class=topbar-nav-item><a href=https://peromage.github.io/about>About</a>
</span><span class=topbar-nav-item><a href=https://peromage.github.io/search>Search</a></span></p></span></div></div><div class="content container"><div class=post><h1 class=post-title>Perl Quick Reference</h1><span class=post-date>Nov 13, 2023
&nbsp;&#183;&nbsp; 19 minute read
&nbsp;&#183;&nbsp;
<a class=label href=https://peromage.github.io/coding>coding</a></span><h2 id=preface>Preface</h2><p>Perl is a powerful tool to handle text processing. However, the learning curve might be steep due to some unusual syntax. I find myself even need to revisit the doc sometimes if I don&rsquo;t use it often, so this post I&rsquo;ll write down some commonly used patterns when it comes to text processing. That said this post is updated from time to time so remember to come back!</p><p>When used as a command line tool, <code>perl</code> is powerful enough to replace traditional text processing tools like <code>sed</code>, <code>awk</code>, <code>grep</code>, <code>tr</code> etc.. Actually using <code>perl</code> instead of <code>grep</code> and <code>tr</code> might be a little overkill in most cases but the functionalities of <code>sed</code> and <code>awk</code> can be almost replaced. I recommend someone who starts learning text processing and regex to start with Perl. The reasons are:</p><ul><li>Perl is installed by default almost on every Linux distribution.</li><li>The regex syntax used by Perl follows PCRE which is more intuitive for someone comes from Python and JavaScript world.</li><li>Perl is a fully fledged language compared <code>sed</code> and <code>awk</code>.</li><li>Extra modules is needed.</li></ul><p>Without furthur ado, let&rsquo;s get started!</p><p><strong>PS1</strong>: The sample text used in this post is from <a href=https://github.com/logpai/loghub>loghub</a>.</p><p><strong>PS2</strong>: Some content is copied from Perl documents.</p><h2 id=personal-convention>Personal convention</h2><ul><li>When writing scripts always put <code>use strict;</code> at the beginning of the file.</li><li>Use <code>my</code> to limit the variable scope whenever possible.</li><li>For non-builtin function (subroutine) calls, use parentheses to enclose argument list.</li><li>For builtin functions calls, prioritize calling them without parentheses to provide a cleaner syntax unless there is ambiguity.</li><li>The reasons to have above two different function call style are: (a) Some builtin functions accepts a block of code as their first argument, which cannot be done in a parenthese style. (b) No-parenthese style also aligns with oneliner scripting style (since you don&rsquo;t want to type too many parentheses on command line). (c) Make an obvious difference between builtin functions and other functions/subroutines.</li></ul><h2 id=command-line>Command line</h2><h3 id=commonly-used-switches>Commonly used switches</h3><table><thead><tr><th>Switch</th><th>Description</th></tr></thead><tbody><tr><td>-n</td><td>Similar with <code>sed -n</code></td></tr><tr><td>-p</td><td>Similar with <code>sed</code></td></tr><tr><td>-l[oct]</td><td>Specify line terminator. Default to <code>\n</code>.</td></tr><tr><td>-0[oct/hex]</td><td>Like <code>-l</code>. Default to <code>\0</code>.</td></tr><tr><td>-a</td><td>Autosplit columns. Used with <code>-n</code> or <code>-p</code>.</td></tr><tr><td>-F</td><td>Specify autosplit pattern. Used with <code>-a</code>.</td></tr><tr><td>-e</td><td>Specify expressions.</td></tr><tr><td>-E</td><td>Like <code>-e</code> but enables all optional features.</td></tr></tbody></table><h3 id=line-matching--grep>Line matching (grep)</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOF | perl -lne &#39;print if /sshd/&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOF</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></code></pre></div><h3 id=print-matched-only--grep>Print matched only (grep)</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOF | perl -lne &#39;/(pam_unix)/ and print $1&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOF</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>pam_unix
</span></span><span style=display:flex><span>pam_unix
</span></span><span style=display:flex><span>pam_unix
</span></span></code></pre></div><h3 id=substitution--sed>Substitution (sed)</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOF | perl -lpe &#39;s/^Jun/Aug/&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOF</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Aug 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span><span style=display:flex><span>Aug 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span><span style=display:flex><span>Aug 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span><span style=display:flex><span>Aug 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></code></pre></div><h3 id=substitute-on-matches--awk>Substitute on matches (awk)</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOF | perl -lne &#39;/uid=0/ and s/cyrus/foobar/ and print&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOF</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user foobar by (uid=0)
</span></span></code></pre></div><h3 id=actions-on-pipe-begin-and-end--awk>Actions on pipe begin and end (awk)</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOF | perl -lne &#39;BEGIN { print &#34;Pipe begins!&#34;; } END { print &#34;Pipe ends!&#34;; } print &#34;2023 $_&#34;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOF</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Pipe begins!
</span></span><span style=display:flex><span>2023 Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span><span style=display:flex><span>2023 Jun 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span><span style=display:flex><span>2023 Jun 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span><span style=display:flex><span>2023 Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span><span style=display:flex><span>Pipe ends!
</span></span></code></pre></div><h3 id=splitting--cut>Splitting (cut)</h3><p>By default Perl splits by spaces.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOF | perl -lane &#39;print $F[4]&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOF</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>su(pam_unix)[21416]:
</span></span><span style=display:flex><span>logrotate:
</span></span><span style=display:flex><span>su(pam_unix)[22644]:
</span></span><span style=display:flex><span>sshd(pam_unix)[23397]:
</span></span></code></pre></div><p>Specify patterns.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOF | perl -F&#39;:&#39; -lane &#39;print $F[3]&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOF</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>session opened for user cyrus by (uid=0)
</span></span><span style=display:flex><span>ALERT exited abnormally with [1]
</span></span><span style=display:flex><span>session opened for user news by (uid=0)
</span></span><span style=display:flex><span>authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></code></pre></div><h3 id=transformation--tr>Transformation (tr)</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOF | perl -lpe &#39;tr/a-z/A-Z/&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOF</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>JUN 15 04:06:18 COMBO SU(PAM_UNIX)[21416]: SESSION OPENED FOR USER CYRUS BY (UID=0)
</span></span><span style=display:flex><span>JUN 15 04:06:20 COMBO LOGROTATE: ALERT EXITED ABNORMALLY WITH [1]
</span></span><span style=display:flex><span>JUN 15 04:12:42 COMBO SU(PAM_UNIX)[22644]: SESSION OPENED FOR USER NEWS BY (UID=0)
</span></span><span style=display:flex><span>JUN 15 12:12:34 COMBO SSHD(PAM_UNIX)[23397]: AUTHENTICATION FAILURE; LOGNAME= UID=0 EUID=0 TTY=NODEVSSH RUSER= RHOST=218.188.2.4
</span></span></code></pre></div><h3 id=remove-duplicated-lines--uniq>Remove duplicated lines (uniq)</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOF | perl -lne &#39;print unless $a{$_}++&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOF</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Jun 15 04:06:18 combo su(pam_unix)[21416]: session opened for user cyrus by (uid=0)
</span></span><span style=display:flex><span>Jun 15 04:06:20 combo logrotate: ALERT exited abnormally with [1]
</span></span><span style=display:flex><span>Jun 15 04:12:42 combo su(pam_unix)[22644]: session opened for user news by (uid=0)
</span></span><span style=display:flex><span>Jun 15 12:12:34 combo sshd(pam_unix)[23397]: authentication failure; logname= uid=0 euid=0 tty=NODEVssh ruser= rhost=218.188.2.4
</span></span></code></pre></div><h2 id=language-quirks>Language quirks</h2><h3 id=and>$_ and @_</h3><p>The <code>$_</code> and <code>@_</code> are commonly used to represent the implicit variable/array in the current context. Expressions like string matching can refer to <code>$_</code> by default without specifying it. Also functions like <code>print</code> can also refer to <code>$_</code> by just calling it.</p><h3 id=read-from-stdin>Read from stdin</h3><p>Use <code>&lt;></code> or <code>&lt;STDIN></code> to read from stdin line by line. Using this should be careful since it could eat a lot memory.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>@lines</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>&lt;&gt;</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>A better way to handle it:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>while</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;&gt;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#000>$_</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>Note that the <a href=https://metacpan.org/pod/perldata#Context>context</a> should be considered when using <code>&lt;></code> operator.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87>int</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&lt;STDIN&gt;</span><span style=color:#000;font-weight:700>);</span>                   <span style=color:#8f5902;font-style:italic># One line</span>
</span></span><span style=display:flex><span><span style=color:#204a87>sort</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&lt;STDIN&gt;</span><span style=color:#000;font-weight:700>);</span>                  <span style=color:#8f5902;font-style:italic># All the lines as a list</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$line1</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&lt;STDIN&gt;</span><span style=color:#000;font-weight:700>;</span>            <span style=color:#8f5902;font-style:italic># One line</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$line2</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>readline</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>STDIN</span><span style=color:#000;font-weight:700>);</span>    <span style=color:#8f5902;font-style:italic># One line (equivalent to above)</span>
</span></span></code></pre></div><h3 id=scalar>Scalar</h3><p>Denoted by <code>$</code> sigil.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><h3 id=array>Array</h3><p>Denoted by <code>@</code> sigil.</p><p>When accessing by the index, one can use either <code>@</code> or <code>$</code>. In most cases, they are equivalent. However, they do have slight different meanings. <code>@</code> indicates the result is a list while <code>$</code> implies the result is a scalar, which means the <code>$</code> notation can only access one element at a time. The example can be seen below.</p><p><a href=https://perldoc.perl.org/functions#Functions-for-real-@ARRAYs>Array functions</a>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>@array</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>123</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;bar&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87>undef</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;baz&#34;</span><span style=color:#000;font-weight:700>);</span>    <span style=color:#8f5902;font-style:italic># Declaration</span>
</span></span><span style=display:flex><span><span style=color:#000>@array</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>];</span>                                        <span style=color:#8f5902;font-style:italic># First element</span>
</span></span><span style=display:flex><span><span style=color:#000>$array</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>];</span>                                        <span style=color:#8f5902;font-style:italic># First element</span>
</span></span><span style=display:flex><span><span style=color:#000>@array</span><span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>];</span>                                       <span style=color:#8f5902;font-style:italic># Last element</span>
</span></span><span style=display:flex><span><span style=color:#000>$#array</span><span style=color:#000;font-weight:700>;</span>                                          <span style=color:#8f5902;font-style:italic># Last index</span>
</span></span><span style=display:flex><span><span style=color:#204a87>scalar</span> <span style=color:#000>@array</span><span style=color:#000;font-weight:700>;</span>                                    <span style=color:#8f5902;font-style:italic># Size</span>
</span></span><span style=display:flex><span><span style=color:#000>@array</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>];</span>                                     <span style=color:#8f5902;font-style:italic># Slice: First and third element</span>
</span></span><span style=display:flex><span><span style=color:#000>@array</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>];</span>                                    <span style=color:#8f5902;font-style:italic># Slice: First and last element</span>
</span></span><span style=display:flex><span><span style=color:#000>@array</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#ce5c00;font-weight:700>..</span><span style=color:#000>$#array</span><span style=color:#000;font-weight:700>];</span>                               <span style=color:#8f5902;font-style:italic># Slice: All elements</span>
</span></span></code></pre></div><h3 id=hash>Hash</h3><p>Denoted by <code>%</code> sigil.</p><p>Hash can be initialized with a named list as well as the <code>=></code> notation for better readability (the key can be barewords).</p><p><strong>NOTE</strong>: Since hashes can be converted from named lists, they can be converted to named lists also. When passing a hash with <code>%</code> notation it will collapse to a named list.</p><p>Access wise it&rsquo;s similar with array. One can use either <code>%</code> or <code>$</code>. <code>%</code> can access the pairs while <code>$</code> implies a scalar value.</p><p><a href=https://perldoc.perl.org/functions#Functions-for-real-%25HASHes>Hash functions</a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>%hash</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;foovalue&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;bar&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;barvalue&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;baz&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;bazvalue&#34;</span><span style=color:#000;font-weight:700>);</span>           <span style=color:#8f5902;font-style:italic># Declaration</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>%hash1</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;foo&#34;</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;foovalue&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;bar&#34;</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;barvalue&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;baz&#34;</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;bazvalue&#34;</span><span style=color:#000;font-weight:700>);</span>    <span style=color:#8f5902;font-style:italic># Declaration</span>
</span></span><span style=display:flex><span><span style=color:#000>%hash</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#000;font-weight:700>};</span>                                                                   <span style=color:#8f5902;font-style:italic># Access pair by key</span>
</span></span><span style=display:flex><span><span style=color:#000>$hash</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#000;font-weight:700>};</span>                                                                   <span style=color:#8f5902;font-style:italic># Access value by key</span>
</span></span><span style=display:flex><span><span style=color:#204a87>scalar</span> <span style=color:#204a87>keys</span> <span style=color:#000>%hash</span><span style=color:#000;font-weight:700>;</span>                                                              <span style=color:#8f5902;font-style:italic># Size</span>
</span></span><span style=display:flex><span><span style=color:#000>%hash</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;bar&#34;</span><span style=color:#000;font-weight:700>};</span>                                                            <span style=color:#8f5902;font-style:italic># Slice: Subset</span>
</span></span></code></pre></div><h3 id=subroutine--function>Subroutine (Function)</h3><p>Subroutines in Perl just like shell functions where the parameter can be omitted and accessed by the default array <code>@_</code>.</p><p>To invoke a subroutine, use either <code>foo 1, 2, 3;</code> or <code>foo(1, 2, 3);</code>. Note that the former one needs comma to delimit arguments (not space!)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>sub</span> <span style=color:#000>foo</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>my</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$para1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$para2</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>@_</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic># Or</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic># my $para1 = shift;</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic># my $para2 = shift;</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic># Or (not preferred)</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic># my $para1 = @_[0], $para2 = @_[1];</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Parameter1: $para1, Parameter2: $para2&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;hello&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;world&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Parameter1: hello, Parameter2: world
</span></span></code></pre></div><p>The subroutines can actually be defined with explicit parameters so that the number of parameters will be checked.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>use</span> <span style=color:#0000cf;font-weight:700>5.36.0</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># or</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># use feature &#39;signatures&#39;;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>sub</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>($a, $b) {</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>$a</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>$b</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>3
</span></span></code></pre></div><p>Variadic parameter is also supported.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>use</span> <span style=color:#0000cf;font-weight:700>5.36.0</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># or</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># use feature &#39;signatures&#39;;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>sub</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>($a, $b, @c) {</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$sum</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$a</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>$b</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>@c</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#000>$sum</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#000>$_</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>$sum</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>..</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>55
</span></span></code></pre></div><p>In Perl 5, a new syntax was introduced, where the subroutine can be invoked with a <code>&</code> prefix, like <code>&amp;foo(1, 2, 3)</code>. This syntax can be ignored in most cases since it doesn&rsquo;t bring much benefit but confusion. A noticeable difference is with this syntax the subroutine can access caller&rsquo;s <code>@_</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>sub</span> <span style=color:#000>foo</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;aha @_\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>@_</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;bar&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>();</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>aha
</span></span><span style=display:flex><span>aha
</span></span><span style=display:flex><span>aha foo bar
</span></span><span style=display:flex><span>aha
</span></span></code></pre></div><h3 id=referencing>Referencing</h3><h4 id=pass-over-references>Pass over references</h4><p>Use <code>\</code> to reference a variable/subroutine.</p><p>Note that on the binder end (the <code>test</code> subroutine), the reference variables must be scalars (because they are references which make sense). For the function call, the <code>-></code> operator is used to dereference (similar with C).</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#000>$scalar</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>@array</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>%hash</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;foo1&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>bar</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;bar1&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>sub</span> <span style=color:#000>func</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;called func&#34;</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>sub</span> <span style=color:#000>test</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>my</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$s</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$aref</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$href</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$fref</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>@_</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Scalar: $s&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;\nArray: &#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;$_, &#34;</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>@$aref</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;\nHash: &#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;$_ =&gt; $hash{$_}, &#34;</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#204a87>keys</span> <span style=color:#000>%$href</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#000>$fref</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>test</span> <span style=color:#000>$scalar</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>\</span><span style=color:#000>@array</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>\</span><span style=color:#000>%hash</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>\&amp;</span><span style=color:#000>func</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Scalar: foo
</span></span><span style=display:flex><span>Array: 1, 2, 3,
</span></span><span style=display:flex><span>Hash: foo =&gt; foo1, bar =&gt; bar1,
</span></span><span style=display:flex><span>called func
</span></span></code></pre></div><p>Also note that array and hash variables must be passed by reference if they are intended to be used as it. Otherwise they will be slurped into the positional parameters.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>sub</span> <span style=color:#000>want_array</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>my</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$a</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$bref</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>@_</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Parameter a is: $a&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;\nArray ref is: $bref&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;\nThe rest: &#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;$_, &#34;</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>@_</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>@array</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Passing by refenrence\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>want_array</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>\</span><span style=color:#000>@array</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Passing by value\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>want_array</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>@array</span><span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Passing by refenrence
</span></span><span style=display:flex><span>Parameter a is: foo
</span></span><span style=display:flex><span>Array ref is: ARRAY(0x116b140)
</span></span><span style=display:flex><span>The rest: foo, ARRAY(0x116b140),
</span></span><span style=display:flex><span>Passing by value
</span></span><span style=display:flex><span>Parameter a is: foo
</span></span><span style=display:flex><span>Array ref is: 1
</span></span><span style=display:flex><span>The rest: foo, 1, 2, 3,
</span></span></code></pre></div><h4 id=convert-to-reference>Convert to reference</h4><p>Sometimes functions like <code>grep</code> and <code>map</code> return an arry or hash but a reference is needed. The following example shows the usage of <code>Data::Dumper</code> where a reference to an array/a hash is neede.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>use</span> <span style=color:#000>Data::Dumper</span> <span style=color:#4e9a06>&#34;Dumper&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Traditional way of doing it: referencing from variables.\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>@a</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>grep</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>$_</span> <span style=color:#000>%</span> <span style=color:#000>2</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>..</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>%b</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>map</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>$_</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;foo&#34;</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>..</span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#000>Dumper</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>\</span><span style=color:#000>@a</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#000>Dumper</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>\</span><span style=color:#000>%b</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Convert to references in place.\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#000>Dumper</span><span style=color:#000;font-weight:700>([</span> <span style=color:#204a87>grep</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>$_</span> <span style=color:#000>%</span> <span style=color:#000>2</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#0000cf;font-weight:700>20</span><span style=color:#ce5c00;font-weight:700>..</span><span style=color:#0000cf;font-weight:700>30</span> <span style=color:#000;font-weight:700>]);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#000>Dumper</span><span style=color:#000;font-weight:700>({</span> <span style=color:#204a87>map</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>$_</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;bar&#34;</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#0000cf;font-weight:700>20</span><span style=color:#ce5c00;font-weight:700>..</span><span style=color:#0000cf;font-weight:700>25</span> <span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Traditional way of doing it: referencing from variables.
</span></span><span style=display:flex><span>$VAR1 = [
</span></span><span style=display:flex><span>          1,
</span></span><span style=display:flex><span>          3,
</span></span><span style=display:flex><span>          5,
</span></span><span style=display:flex><span>          7,
</span></span><span style=display:flex><span>          9
</span></span><span style=display:flex><span>        ];
</span></span><span style=display:flex><span>$VAR1 = {
</span></span><span style=display:flex><span>          &#39;5&#39; =&gt; &#39;foo&#39;,
</span></span><span style=display:flex><span>          &#39;3&#39; =&gt; &#39;foo&#39;,
</span></span><span style=display:flex><span>          &#39;4&#39; =&gt; &#39;foo&#39;,
</span></span><span style=display:flex><span>          &#39;2&#39; =&gt; &#39;foo&#39;,
</span></span><span style=display:flex><span>          &#39;1&#39; =&gt; &#39;foo&#39;
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>Convert to references in place.
</span></span><span style=display:flex><span>$VAR1 = [
</span></span><span style=display:flex><span>          21,
</span></span><span style=display:flex><span>          23,
</span></span><span style=display:flex><span>          25,
</span></span><span style=display:flex><span>          27,
</span></span><span style=display:flex><span>          29
</span></span><span style=display:flex><span>        ];
</span></span><span style=display:flex><span>$VAR1 = {
</span></span><span style=display:flex><span>          &#39;21&#39; =&gt; &#39;bar&#39;,
</span></span><span style=display:flex><span>          &#39;23&#39; =&gt; &#39;bar&#39;,
</span></span><span style=display:flex><span>          &#39;20&#39; =&gt; &#39;bar&#39;,
</span></span><span style=display:flex><span>          &#39;25&#39; =&gt; &#39;bar&#39;,
</span></span><span style=display:flex><span>          &#39;22&#39; =&gt; &#39;bar&#39;,
</span></span><span style=display:flex><span>          &#39;24&#39; =&gt; &#39;bar&#39;
</span></span><span style=display:flex><span>        };
</span></span></code></pre></div><h4 id=typeglobs>Typeglobs</h4><p>There is an internal type called <code>typeglob</code> to hold an entire symbol table entry. As the name implies it can represent <a href=https://metacpan.org/pod/perldata#Typeglobs-and-Filehandles>any type</a>.</p><p>Basically:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>this</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>that</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>mine</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>\</span><span style=color:#000>$theirs</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>Then <code>$this</code> is an alias for <code>$that</code>, <code>@this</code> for <code>@that</code>, <code>%this</code> for <code>%that</code>, <code>&amp;this</code> for <code>&amp;that</code> so on and so forth.</p><p>However, <code>$mine</code> can only represent <code>$theirs</code>. Things like <code>@theirs</code>, <code>%theirs</code>, etc. will not work.</p><h4 id=file-handles>File handles</h4><p>File handles are usually represented in barewords like <code>STDIN</code>, <code>STDOUT</code>, <code>STDERR</code>, etc..</p><p>When they need to be <a href=https://metacpan.org/dist/perl/view/pod/perlsub.pod#Pass-by-Reference>passed around</a>, one can use either bare typeglob or typeglob reference.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>use</span> <span style=color:#000>File::Temp</span> <span style=color:#4e9a06>&#34;tempfile&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$fh</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$fn</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>tempfile</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>UNLINK</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>say</span> <span style=color:#000>$fh</span> <span style=color:#4e9a06>&#34;line 1\nline 2\nline 3&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87>close</span> <span style=color:#000>$fh</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>sub</span> <span style=color:#000>read_one_line</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$h</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>shift</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#204a87>scalar</span> <span style=color:#204a87>readline</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$h</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>sub</span> <span style=color:#000>open_read</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$fn</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>shift</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87>local</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>fh</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic># Not my!</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87>open</span> <span style=color:#000>fh</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;&lt;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$fn</span> <span style=color:#204a87;font-weight:700>or</span> <span style=color:#204a87>die</span> <span style=color:#4e9a06>&#34;cannot open $fn&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>fh</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>sub</span> <span style=color:#000>open_read_ref</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$fn</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>shift</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$fh</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87>open</span> <span style=color:#000>$fh</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;&lt;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$fn</span> <span style=color:#204a87;font-weight:700>or</span> <span style=color:#204a87>die</span> <span style=color:#4e9a06>&#34;cannot open $fn&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>$fh</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Bareword file handle</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Passing bareword file handle\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87>open</span> <span style=color:#000>FH</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;&lt;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$fn</span> <span style=color:#204a87;font-weight:700>or</span> <span style=color:#204a87>die</span> <span style=color:#4e9a06>&#34;cannot open $fn&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>read_one_line</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>\*</span><span style=color:#000>FH</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87>close</span> <span style=color:#000>FH</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Return tyepglob file handle\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$FH1</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>open_read</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$fn</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>read_one_line</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$FH1</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87>close</span> <span style=color:#000>$FH1</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Typeglob reference also works</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Passing typeglob reference\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$FH2</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87>open</span> <span style=color:#000>$FH2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;&lt;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$fn</span> <span style=color:#204a87;font-weight:700>or</span> <span style=color:#204a87>die</span> <span style=color:#4e9a06>&#34;cannot open $fn&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>read_one_line</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$FH2</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87>close</span> <span style=color:#000>$FH2</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Return typeblob reference\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$FH3</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>$FH3</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>open_read_ref</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$fn</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>read_one_line</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$FH3</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87>close</span> <span style=color:#000>$FH3</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Passing bareword file handle
</span></span><span style=display:flex><span>line 1
</span></span><span style=display:flex><span>Return tyepglob file handle
</span></span><span style=display:flex><span>line 1
</span></span><span style=display:flex><span>Passing typeglob reference
</span></span><span style=display:flex><span>line 1
</span></span><span style=display:flex><span>Return typeblob reference
</span></span><span style=display:flex><span>line 1
</span></span></code></pre></div><h3 id=anonymous>Anonymous</h3><h4 id=anonymous-array>Anonymous array</h4><p>The anonymous array construction returns a reference. Note that the square brackets <code>[]</code> are used here.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$aref</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;$_, &#34;</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>@$aref</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>1, 2, 3,
</span></span></code></pre></div><h4 id=anonymous-hash>Anonymous hash</h4><p>The anonymous hash construction returns a reference. Note that the curly brackets <code>{}</code> are used here.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$href</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;foovalue&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>bar</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#34;barvalue&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>while</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>$k</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$v</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>each</span> <span style=color:#000>%$href</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;$k =&gt; $v, &#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>bar =&gt; barvalue, foo =&gt; foovalue,
</span></span></code></pre></div><h4 id=anonymous-subroutine>Anonymous subroutine</h4><p>The anonymous subroutine construction returns a reference. Note that no name is specified here and <code>-></code> operator are used to invoke the call.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$sref</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>sub</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Called subroutine @_[0]&#34;</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span><span style=color:#000>$sref</span><span style=color:#ce5c00;font-weight:700>-&gt;</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;wow&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Called subroutine wow
</span></span></code></pre></div><h3 id=lexical-binding>Lexical binding</h3><p>Use keyword <code>my</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;FOO&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Inside: $foo\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#000>$foo</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;outside: $foo\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Inside: FOO
</span></span><span style=display:flex><span>foooutside: foo
</span></span></code></pre></div><h3 id=variable-shadowing>Variable shadowing</h3><p>Use keyword <code>local</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>sub</span> <span style=color:#000>foo</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;In foo: $bar\n&#34;</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic># Access a free variable</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>$bar</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;bar&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87>local</span> <span style=color:#000>$bar</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;BAR&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;In block: $bar\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$bar</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Out of block: $bar\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$bar</span><span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>In block: BAR
</span></span><span style=display:flex><span>In foo: BAR
</span></span><span style=display:flex><span>Out of block: bar
</span></span><span style=display:flex><span>In foo: bar
</span></span></code></pre></div><h3 id=string-interpolation>String interpolation</h3><p>Similar with shell scripts. <code>.</code> can be used to concatenate strings.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-perl data-lang=perl><span style=display:flex><span><span style=color:#204a87;font-weight:700>my</span> <span style=color:#000>$foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>$bar</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;bar&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;Hello $foo $bar! Hey ${foo}-${bar}\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>print</span> <span style=color:#4e9a06>&#34;This &#34;</span> <span style=color:#ce5c00;font-weight:700>.</span> <span style=color:#000>$foo</span> <span style=color:#ce5c00;font-weight:700>.</span> <span style=color:#4e9a06>&#34; also works with &#34;</span> <span style=color:#ce5c00;font-weight:700>.</span> <span style=color:#000>$bar</span> <span style=color:#ce5c00;font-weight:700>.</span> <span style=color:#4e9a06>&#34;!\n&#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Hello foo bar! Hey foo-bar
</span></span><span style=display:flex><span>This foo also works with bar!
</span></span></code></pre></div><h3 id=expression>Expression</h3><p>Statement modifiers.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>if EXPR
</span></span><span style=display:flex><span>unless EXPR
</span></span><span style=display:flex><span>while EXPR
</span></span><span style=display:flex><span>until EXPR
</span></span><span style=display:flex><span>for LIST
</span></span><span style=display:flex><span>foreach LIST
</span></span><span style=display:flex><span>when EXPR
</span></span></code></pre></div><p>Arithmetic</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>+    addition
</span></span><span style=display:flex><span>-    subtraction
</span></span><span style=display:flex><span>*    multiplication
</span></span><span style=display:flex><span>/    division
</span></span></code></pre></div><p>Numeric comparison</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>==    equality
</span></span><span style=display:flex><span>!=    inequality
</span></span><span style=display:flex><span>&lt;     less than
</span></span><span style=display:flex><span>&gt;     greater than
</span></span><span style=display:flex><span>&lt;=    less than or equal
</span></span><span style=display:flex><span>&gt;=    greater than or equal
</span></span></code></pre></div><p>String comparison</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>eq    equality
</span></span><span style=display:flex><span>ne    inequality
</span></span><span style=display:flex><span>lt    less than
</span></span><span style=display:flex><span>gt    greater than
</span></span><span style=display:flex><span>le    less than or equal
</span></span><span style=display:flex><span>ge    greater than or equal
</span></span></code></pre></div><p>Boolean logic</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>&amp;&amp;    and
</span></span><span style=display:flex><span>||    or
</span></span><span style=display:flex><span>!     not
</span></span></code></pre></div><p>Boolean logic (with much lower precedence)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>and
</span></span><span style=display:flex><span>or
</span></span><span style=display:flex><span>not
</span></span></code></pre></div><p>Miscellaneous</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>=    assignment
</span></span><span style=display:flex><span>.    string concatenation
</span></span><span style=display:flex><span>x    string multiplication (repeats strings)
</span></span><span style=display:flex><span>..   range operator (creates a list of numbers or strings)
</span></span></code></pre></div><p>Precedence</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>left        terms and list operators (leftward)
</span></span><span style=display:flex><span>left        -&gt;
</span></span><span style=display:flex><span>nonassoc    ++ --
</span></span><span style=display:flex><span>right       **
</span></span><span style=display:flex><span>right       ! ~ ~. \ and unary + and -
</span></span><span style=display:flex><span>left        =~ !~
</span></span><span style=display:flex><span>left        * / % x
</span></span><span style=display:flex><span>left        + - .
</span></span><span style=display:flex><span>left        &lt;&lt; &gt;&gt;
</span></span><span style=display:flex><span>nonassoc    named unary operators
</span></span><span style=display:flex><span>nonassoc    isa
</span></span><span style=display:flex><span>chained     &lt; &gt; &lt;= &gt;= lt gt le ge
</span></span><span style=display:flex><span>chain/na    == != eq ne &lt;=&gt; cmp ~~
</span></span><span style=display:flex><span>left        &amp; &amp;.
</span></span><span style=display:flex><span>left        | |. ^ ^.
</span></span><span style=display:flex><span>left        &amp;&amp;
</span></span><span style=display:flex><span>left        || //
</span></span><span style=display:flex><span>nonassoc    ..  ...
</span></span><span style=display:flex><span>right       ?:
</span></span><span style=display:flex><span>right       = += -= *= etc. goto last next redo dump
</span></span><span style=display:flex><span>left        , =&gt;
</span></span><span style=display:flex><span>nonassoc    list operators (rightward)
</span></span><span style=display:flex><span>right       not
</span></span><span style=display:flex><span>left        and
</span></span><span style=display:flex><span>left        or xor
</span></span></code></pre></div><h3 id=statement>Statement</h3><p>Commonly used compound statements like <code>if</code>, <code>for</code>, and <code>while</code> have the same usage like C.</p><p>Worth noting that the <code>continue</code> indicates the block of code will be executed every time before the loop condition is updated, even the iteration is skipped via <code>next</code> statement.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>if (EXPR) BLOCK
</span></span><span style=display:flex><span>if (EXPR) BLOCK else BLOCK
</span></span><span style=display:flex><span>if (EXPR) BLOCK elsif (EXPR) BLOCK ...
</span></span><span style=display:flex><span>if (EXPR) BLOCK elsif (EXPR) BLOCK ... else BLOCK
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>unless (EXPR) BLOCK
</span></span><span style=display:flex><span>unless (EXPR) BLOCK else BLOCK
</span></span><span style=display:flex><span>unless (EXPR) BLOCK elsif (EXPR) BLOCK ...
</span></span><span style=display:flex><span>unless (EXPR) BLOCK elsif (EXPR) BLOCK ... else BLOCK
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>given (EXPR) BLOCK
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>LABEL while (EXPR) BLOCK
</span></span><span style=display:flex><span>LABEL while (EXPR) BLOCK continue BLOCK
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>LABEL until (EXPR) BLOCK
</span></span><span style=display:flex><span>LABEL until (EXPR) BLOCK continue BLOCK
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>LABEL for (EXPR; EXPR; EXPR) BLOCK
</span></span><span style=display:flex><span>LABEL for VAR (LIST) BLOCK
</span></span><span style=display:flex><span>LABEL for VAR (LIST) BLOCK continue BLOCK
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>LABEL foreach (EXPR; EXPR; EXPR) BLOCK
</span></span><span style=display:flex><span>LABEL foreach VAR (LIST) BLOCK
</span></span><span style=display:flex><span>LABEL foreach VAR (LIST) BLOCK continue BLOCK
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>LABEL BLOCK
</span></span><span style=display:flex><span>LABEL BLOCK continue BLOCK
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>PHASE BLOCK
</span></span></code></pre></div><p>As of Perl 5.36, you can iterate over multiple values at a time by specifying a list of lexicals within parentheses:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>no warnings &#34;experimental::for_list&#34;;
</span></span><span style=display:flex><span>LABEL for my (VAR, VAR) (LIST) BLOCK
</span></span><span style=display:flex><span>LABEL for my (VAR, VAR) (LIST) BLOCK continue BLOCK
</span></span><span style=display:flex><span>LABEL foreach my (VAR, VAR) (LIST) BLOCK
</span></span><span style=display:flex><span>LABEL foreach my (VAR, VAR) (LIST) BLOCK continue BLOCK
</span></span></code></pre></div><p>If enabled by the experimental try feature, the following may also be used:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>try BLOCK catch (VAR) BLOCK
</span></span><span style=display:flex><span>try BLOCK catch (VAR) BLOCK finally BLOCK
</span></span></code></pre></div><h3 id=quoting>Quoting</h3><table><thead><tr><th>Customary</th><th>Generic</th><th>Meaning</th><th>Interpolates</th></tr></thead><tbody><tr><td>''</td><td>q{}</td><td>Literal</td><td>no</td></tr><tr><td>""</td><td>qq{}</td><td>Literal</td><td>yes</td></tr><tr><td>``</td><td>qx{}</td><td>Command</td><td>yes*</td></tr><tr><td></td><td>qw{}</td><td>Word list</td><td>no</td></tr><tr><td>//</td><td>m{}</td><td>Pattern match</td><td>yes*</td></tr><tr><td></td><td>qr{}</td><td>Pattern</td><td>yes*</td></tr><tr><td></td><td>s{}{}</td><td>Substitution</td><td>yes*</td></tr><tr><td></td><td>tr{}{}</td><td>Transliteration</td><td>no (but see below)</td></tr><tr><td></td><td>y{}{}</td><td>Transliteration</td><td>no (but see below)</td></tr><tr><td>&lt;&lt;EOF</td><td></td><td>here-doc</td><td>yes*</td></tr></tbody></table><p>Note: * unless the delimiter is &lsquo;&rsquo;.</p><h3 id=regex>Regex</h3><h4 id=regex-quoting>Regex quoting</h4><p><code>qr/STRING/msixpodualn</code></p><p>If &ldquo;&rsquo;&rdquo; is used as the delimiter, no variable interpolation is done.</p><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td>m</td><td>Treat string as multiple lines.</td></tr><tr><td>s</td><td>Treat string as single line. (Make . match a newline)</td></tr><tr><td>i</td><td>Do case-insensitive pattern matching.</td></tr><tr><td>x</td><td>Use extended regular expressions; specifying two</td></tr><tr><td></td><td>x&rsquo;s means \t and the SPACE character are ignored within</td></tr><tr><td></td><td>square-bracketed character classes</td></tr><tr><td>p</td><td>When matching preserve a copy of the matched string so</td></tr><tr><td></td><td>that ${^PREMATCH}, ${^MATCH}, ${^POSTMATCH} will be</td></tr><tr><td></td><td>defined (ignored starting in v5.20 as these are always</td></tr><tr><td></td><td>defined starting in that release)</td></tr><tr><td>o</td><td>Compile pattern only</td></tr><tr><td>a</td><td>ASCII-restrict: Use ASCII for \d, \s, \w and <code>[[:posix:]]</code></td></tr><tr><td></td><td>character classes; specifying two a&rsquo;s adds the further</td></tr><tr><td></td><td>restriction that no ASCII character will match a</td></tr><tr><td></td><td>non-ASCII one under /i.</td></tr><tr><td>l</td><td>Use the current run-time locale&rsquo;s rules.</td></tr><tr><td>u</td><td>Use Unicode rules.</td></tr><tr><td>d</td><td>Use Unicode or native charset, as in 5.12 and earlier.</td></tr><tr><td>n</td><td>Non-capture mode. Don&rsquo;t let () fill in $1, $2, etc&mldr;</td></tr></tbody></table><h4 id=matching>Matching</h4><p><code>m/PATTERN/msixpodualngc</code></p><p><code>/PATTERN/msixpodualngc</code></p><p><code>m?PATTERN?msixpodualngc</code> This is just like the <code>m/PATTERN/</code> search, except that it matches only once between calls to the reset() operator.</p><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td>m</td><td>Treat string as multiple lines.</td></tr><tr><td>s</td><td>Treat string as single line. (Make . match a newline)</td></tr><tr><td>i</td><td>Do case-insensitive pattern matching.</td></tr><tr><td>x</td><td>Use extended regular expressions; specifying two</td></tr><tr><td></td><td>x&rsquo;s means \t and the SPACE character are ignored within</td></tr><tr><td></td><td>square-bracketed character classes</td></tr><tr><td>p</td><td>When matching preserve a copy of the matched string so</td></tr><tr><td></td><td>that ${^PREMATCH}, ${^MATCH}, ${^POSTMATCH} will be</td></tr><tr><td></td><td>defined (ignored starting in v5.20 as these are always</td></tr><tr><td></td><td>defined starting in that release)</td></tr><tr><td>o</td><td>Compile pattern only</td></tr><tr><td>a</td><td>ASCII-restrict: Use ASCII for \d, \s, \w and <code>[[:posix:]]</code></td></tr><tr><td></td><td>character classes; specifying two a&rsquo;s adds the further</td></tr><tr><td></td><td>restriction that no ASCII character will match a</td></tr><tr><td></td><td>non-ASCII one under /i.</td></tr><tr><td>l</td><td>Use the current run-time locale&rsquo;s rules.</td></tr><tr><td>u</td><td>Use Unicode rules.</td></tr><tr><td>d</td><td>Use Unicode or native charset, as in 5.12 and earlier.</td></tr><tr><td>n</td><td>Non-capture mode. Don&rsquo;t let () fill in $1, $2, etc&mldr;</td></tr><tr><td>g</td><td>Match globally, i.e., find all occurrences.</td></tr><tr><td>c</td><td>Do not reset search position on a failed match when /g is in effect.</td></tr></tbody></table><h4 id=substitution>Substitution</h4><p><code>s/PATTERN/REPLACEMENT/msixpodualngcer</code></p><p>Options:</p><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td>m</td><td>Treat string as multiple lines.</td></tr><tr><td>s</td><td>Treat string as single line. (Make . match a newline)</td></tr><tr><td>i</td><td>Do case-insensitive pattern matching.</td></tr><tr><td>x</td><td>Use extended regular expressions; specifying two</td></tr><tr><td></td><td>x&rsquo;s means \t and the SPACE character are ignored within</td></tr><tr><td></td><td>square-bracketed character classes</td></tr><tr><td>p</td><td>When matching preserve a copy of the matched string so</td></tr><tr><td></td><td>that ${^PREMATCH}, ${^MATCH}, ${^POSTMATCH} will be</td></tr><tr><td></td><td>defined (ignored starting in v5.20 as these are always</td></tr><tr><td></td><td>defined starting in that release)</td></tr><tr><td>o</td><td>Compile pattern only</td></tr><tr><td>a</td><td>ASCII-restrict: Use ASCII for \d, \s, \w and <code>[[:posix:]]</code></td></tr><tr><td></td><td>character classes; specifying two a&rsquo;s adds the further</td></tr><tr><td></td><td>restriction that no ASCII character will match a</td></tr><tr><td></td><td>non-ASCII one under /i.</td></tr><tr><td>l</td><td>Use the current run-time locale&rsquo;s rules.</td></tr><tr><td>u</td><td>Use Unicode rules.</td></tr><tr><td>d</td><td>Use Unicode or native charset, as in 5.12 and earlier.</td></tr><tr><td>n</td><td>Non-capture mode. Don&rsquo;t let () fill in $1, $2, etc&mldr;</td></tr><tr><td>g</td><td>Match globally, i.e., find all occurrences.</td></tr><tr><td>c</td><td>Do not reset search position on a failed match when /g is in effect.</td></tr><tr><td>e</td><td>Evaluate the right side as an expression.</td></tr><tr><td>ee</td><td>Evaluate the right side as a string then eval the result.</td></tr><tr><td>r</td><td>Return substitution and leave the original string untouched.</td></tr></tbody></table><h4 id=transform>Transform</h4><p><code>tr/SEARCHLIST/REPLACEMENTLIST/cdsr</code></p><p><code>y/SEARCHLIST/REPLACEMENTLIST/cdsr</code></p><p>Options:</p><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td>c</td><td>Complement the SEARCHLIST.</td></tr><tr><td>d</td><td>Delete found but unreplaced characters.</td></tr><tr><td>r</td><td>Return the modified string and leave the original string untouched.</td></tr><tr><td>s</td><td>Squash duplicate replaced characters.</td></tr></tbody></table><h2 id=references>References</h2><ul><li>Perl data types: <a href=https://metacpan.org/pod/perldata>https://metacpan.org/pod/perldata</a></li><li>Perl subroutines: <a href=https://metacpan.org/dist/perl/view/pod/perlsub.pod>https://metacpan.org/dist/perl/view/pod/perlsub.pod</a></li><li>Perl intro: <a href=https://perldoc.perl.org/perlintro>https://perldoc.perl.org/perlintro</a></li><li>Perl syntax: <a href=https://perldoc.perl.org/perlsyn>https://perldoc.perl.org/perlsyn</a></li><li>Perl regex: <a href=https://perldoc.perl.org/perlre>https://perldoc.perl.org/perlre</a></li><li>Perl operators: <a href=https://perldoc.perl.org/perlop>https://perldoc.perl.org/perlop</a></li><li>Perl subroutine: <a href=https://perldoc.perl.org/perlsub>https://perldoc.perl.org/perlsub</a></li><li>Perl builtin functions: <a href=https://perldoc.perl.org/functions>https://perldoc.perl.org/functions</a></li></ul></div></div><script src=https://peromage.github.io/js/mathjax.3.2.2.tex-svg.min.js></script><div class=bottombar><div class=bottombar-sticky><div class=icons><span class=icons-item><a href=https://github.com/peromage target=_blank><i class="fab fa-github"></i></a> </span><span class=icons-item><a href=https://www.linkedin.com/in/fangdeng/ target=_blank><i class="fab fa-linkedin fa-1x"></i></a> </span><span class=icons-item><a href=mailto:fang@elfang.com><i class="fas fa-envelope fa-1x"></i></a> </span><span class=icons-item><a href=/me.pub><i class="fas fa-key fa-1x"></i></a></span></div><div class=footer><p>&copy; 2025 , <a href=https://peromage.github.io/license/>License</a><br><a href=/privacy title="Privacy notice">Privacy notice</a></p></div></div></div></body></html>